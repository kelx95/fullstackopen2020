{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","type","name","onChange","event","target","value","PersonForm","setName","number","setNumber","submitOnClick","placeholder","required","pattern","onClick","Persons","persons","newFilter","handleClickDelete","map","person","toLowerCase","startsWith","key","id","style","display","baseURL","axios","get","then","response","data","newPerson","post","delete","updatePerson","put","Notification","message","colorNotification","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setNewFilter","successfulOperation","setSuccessfulOperation","setColorNotification","useEffect","personsService","fiveSeconds","setTimeout","console","log","personIsFound","find","window","confirm","returnedPerson","catch","err","concat","preventDefault","passedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0893b073.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ filter }) => {\r\n    return (\r\n        <div>\r\n            filter shown with <input\r\n                type=\"text\"\r\n                name=\"filterName\"\r\n                onChange={(event) => filter(event.target.value)}\r\n            />\r\n            <br />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter;","import React from 'react'\r\n\r\nconst PersonForm = ({ name, setName, number, setNumber, submitOnClick }) => {\r\n    return (\r\n        <form>\r\n            <div>\r\n                name: <input\r\n                    type=\"text\"\r\n                    placeholder=\"Enter your name\"\r\n                    name=\"newName\"\r\n                    value={name}\r\n                    onChange={(event) => setName(event.target.value)}\r\n                    required\r\n                />\r\n            </div>\r\n            <div>\r\n                number: <input\r\n                    type=\"tel\"\r\n                    placeholder=\"39-44-5323523\"\r\n                    name=\"newNumber\"\r\n                    value={number}\r\n                    onChange={(event) => setNumber(event.target.value)}\r\n                    pattern=\"[0-9]{2}-[0-9]{2}-[0-9]{7}\"\r\n                    required\r\n                />\r\n            </div>\r\n            <div>\r\n                <button\r\n                    type=\"submit\"\r\n                    name=\"submit\"\r\n                    onClick={(event) => {\r\n                        submitOnClick(event)\r\n                        setNumber('');\r\n                        setName('');\r\n                    }}>\r\n                    add\r\n          </button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({ persons, newFilter, handleClickDelete }) => persons\r\n    .map(person =>\r\n        (person.name.toLowerCase().startsWith(newFilter.toLowerCase()))\r\n            ? <div key={person.id}>\r\n                <p\r\n                    style={{ display: 'inline-block' }}\r\n                >\r\n                    {person.name} {person.number}\r\n                </p>&nbsp;\r\n                <button onClick={(event) => handleClickDelete(event, person)}>delete</button>\r\n            </div>\r\n            : null\r\n    )\r\nexport default Persons","import axios from 'axios'\r\n\r\nconst baseURL = `/api/persons`\r\nconst getAll = () => {\r\n    const request = axios.get(`${baseURL}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newPerson) => {\r\n    const request = axios.post(`${baseURL}`, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    return axios.delete(`${baseURL}/${id}`)\r\n}\r\n\r\nconst updatePeson = (id, updatePerson) => {\r\n    const request = axios.put(`${baseURL}/${id}`, updatePerson)\r\n    return request.then(response => response.data)\r\n}\r\nexport default { \r\n    getAll, \r\n    create,\r\n    deletePerson,\r\n    updatePeson\r\n  }","import React from 'react'\r\n\r\nconst Notification = ({ message, colorNotification }) => {\r\n    return (\r\n        <div className={colorNotification}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification\r\n\r\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personsService from './services/persons'\nimport Notification from './components/Notification'\n\n//npx json-server --port 3001 --watch db.json - to start fake rest api\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [successfulOperation, setSuccessfulOperation] = useState('')\n  const [colorNotification, setColorNotification] = useState('')\n\n  useEffect(()=>{\n    personsService.getAll()\n      .then(persons => setPersons(persons))\n  }, [])\n  \n  const fiveSeconds = () => {\n    setTimeout(() => {\n      setSuccessfulOperation('')\n    }, 5000) \n  }\n  const handleClickSubmit = (event) => {\n    const personIsFound = [...persons].find(person => person.name === newName);\n    if(personIsFound){\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one`)){\n        console.log(personIsFound)\n        personsService.updatePeson(personIsFound.id, {\n          ...personIsFound,\n          number: newNumber\n        })\n        .then(returnedPerson => {\n          console.log(returnedPerson);\n         setPersons(persons.map(person => person.id !== returnedPerson.id \n          ? person \n          : returnedPerson))\n          setColorNotification('greenNotification')\n          setSuccessfulOperation(`The number of ${returnedPerson.name} is changed`)\n          fiveSeconds()     \n        })\n        .catch(err => {\n          setColorNotification('redNotification')\n          setSuccessfulOperation(`Information of ${newName} has already been removed from server`)\n          fiveSeconds()\n          personsService.getAll()\n            .then(persons => setPersons(persons))\n        })\n      } \n    } else {\n      personsService.create({\n        name: newName,\n        number: newNumber\n      })\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setColorNotification('greenNotification')\n        setSuccessfulOperation(`Added ${returnedPerson.name}`)\n        fiveSeconds()      \n      })\n    } \n    event.preventDefault();\n  }\n\n  const handleClickDelete = (event, passedPerson) => {\n    const id =passedPerson.id;\n    const name = passedPerson.name;\n    if(window.confirm(`Delete ${name} ?`)){\n      personsService\n      .deletePerson(id)\n      .then(() => {\n       setPersons(persons.filter(person => person.id !== id))\n       setColorNotification('redNotification')\n        setSuccessfulOperation(`Deleted ${name}`)\n        fiveSeconds()   \n      })\n      .catch(err => {\n        setColorNotification('redNotification')\n        setSuccessfulOperation(`Information of ${name} has already been removed from server`)\n        fiveSeconds()\n        personsService.getAll()\n          .then(persons => setPersons(persons))\n      })\n    } \n    event.preventDefault();\n  }\n\n  const handleOnChangeFilter = filter => setNewFilter(filter)\n  const handleOnChangeNewName = name => setNewName(name)\n  const handleOnChangeNewNumber = number => setNewNumber(number)\n  \n  console.log(persons)\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      { successfulOperation && <Notification message={successfulOperation} colorNotification={colorNotification} />}\n      <Filter filter={handleOnChangeFilter} />\n      <h2>add a new</h2>\n      <PersonForm\n        submitOnClick={handleClickSubmit}\n        name={newName}\n        number={newNumber}\n        setName={handleOnChangeNewName}\n        setNumber={handleOnChangeNewNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons \n        persons={persons} \n        newFilter={newFilter} \n        handleClickDelete={handleClickDelete}\n      />\n    </div>\n  )\n}\nexport default App\n\n\n// import React, { useState } from 'react'\n\n// const App = () => {\n//   const [persons, setPersons] = useState([\n//     { name: 'Arto Hellas', number: '040-123456' },\n//     { name: 'Ada Lovelace', number: '39-44-5323523' },\n//     { name: 'Dan Abramov', number: '12-43-234345' },\n//     { name: 'Mary Poppendieck', number: '39-23-6423122' }\n//   ])\n\n//   const [newName, setNewName] = useState('')\n//   const [newNumber, setNewNumber] = useState('')\n//   const [newFilter, setNewFilter] = useState('')\n\n//   const handleClick = (event) => {\n//     const issInArray = [...persons].find(person => person.name === newName);\n//     issInArray ? alert(`${newName} is already added to phonebook`)\n//       : setPersons(persons.concat({\n//         name: newName,\n//         number: newNumber\n//       }))\n//     event.preventDefault();\n//   }\n//   return (\n//     <div>\n//       <h2>Phonebook</h2>\n//       filter shown with <input\n//         type=\"text\"\n//         name=\"filterName\"\n//         onChange={(event) => setNewFilter(event.target.value) }\n//       />\n//       <br />\n//       <h2>add a new</h2>\n//       <form>\n//         <div>\n//           name: <input\n//             type=\"text\"\n//             placeholder=\"Enter your name\"\n//             name=\"newName\"\n//             value={newName}\n//             onChange={(event) => setNewName(event.target.value)}\n//             required\n//           />\n//         </div>\n//         <div>\n//           number: <input\n//             type=\"tel\"\n//             placeholder=\"39-44-5323523\"\n//             name=\"newNumber\"\n//             value={newNumber}\n//             onChange={(event) => setNewNumber(event.target.value)}\n//             pattern=\"[0-9]{2}-[0-9]{2}-[0-9]{7}\"\n//             required\n//           />\n//         </div>\n//         <div>\n//           <button\n//             type=\"submit\"\n//             onClick={(event) => handleClick(event)}>\n//             add\n//           </button>\n//         </div>\n//       </form>\n//       <h2>Numbers</h2>\n//     {persons.map(person =>\n//       (person.name.toLowerCase().startsWith(newFilter.toLowerCase()))\n//       ?<p key={person.name}>{person.name} {person.number}</p>\n//       :null\n//       )}\n//     </div>\n//   )\n// }\n// export default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}