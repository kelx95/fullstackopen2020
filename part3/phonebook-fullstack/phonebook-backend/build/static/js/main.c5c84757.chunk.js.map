{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","type","name","onChange","event","target","value","PersonForm","setName","number","setNumber","submitOnClick","placeholder","required","pattern","onClick","Persons","persons","newFilter","handleClickDelete","map","person","toLowerCase","startsWith","key","id","style","display","baseURL","axios","get","then","response","data","newPerson","post","delete","updatePerson","put","Notification","message","colorNotification","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setNewFilter","operation","setOperation","setColorNotification","useEffect","personsService","fiveSeconds","setTimeout","informationAlreadyRemovedFromServer","console","log","personIsFound","find","window","confirm","returnedPerson","catch","err","concat","error","preventDefault","passedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c5c84757.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ filter }) => {\r\n    return (\r\n        <div>\r\n            filter shown with <input\r\n                type=\"text\"\r\n                name=\"filterName\"\r\n                onChange={(event) => filter(event.target.value)}\r\n            />\r\n            <br />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter;","import React from 'react'\r\n\r\nconst PersonForm = ({ name, setName, number, setNumber, submitOnClick }) => {\r\n    return (\r\n        <form>\r\n            <div>\r\n                name: <input\r\n                    type=\"text\"\r\n                    placeholder=\"Enter your name\"\r\n                    name=\"newName\"\r\n                    value={name}\r\n                    onChange={(event) => setName(event.target.value)}\r\n                    required\r\n                />\r\n            </div>\r\n            <div>\r\n                number: <input\r\n                    type=\"tel\"\r\n                    placeholder=\"39-44-5323523\"\r\n                    name=\"newNumber\"\r\n                    value={number}\r\n                    onChange={(event) => setNumber(event.target.value)}\r\n                    pattern=\"[0-9]{2}-[0-9]{2}-[0-9]{7}\"\r\n                    required\r\n                />\r\n            </div>\r\n            <div>\r\n                <button\r\n                    type=\"submit\"\r\n                    name=\"submit\"\r\n                    onClick={(event) => {\r\n                        submitOnClick(event)\r\n                        setNumber('');\r\n                        setName('');\r\n                    }}>\r\n                    add\r\n          </button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({ persons, newFilter, handleClickDelete }) => persons\r\n    .map(person =>\r\n        (person.name.toLowerCase().startsWith(newFilter.toLowerCase()))\r\n            ? <div key={person.id}>\r\n                <p\r\n                    style={{ display: 'inline-block' }}\r\n                >\r\n                    {person.name} {person.number}\r\n                </p>&nbsp;\r\n                <button onClick={(event) => handleClickDelete(event, person)}>delete</button>\r\n            </div>\r\n            : null\r\n    )\r\nexport default Persons","import axios from 'axios'\r\n\r\nconst baseURL = `/api/persons`\r\nconst getAll = () => {\r\n    const request = axios.get(`${baseURL}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newPerson) => {\r\n    const request = axios.post(`${baseURL}`, newPerson)\r\n    return request.then(response => response.data)\r\n    \r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    return axios.delete(`${baseURL}/${id}`)\r\n}\r\nconst updatePeson = (id, updatePerson) => {\r\n    const request = axios.put(`${baseURL}/${id}`, updatePerson)\r\n    return request.then(response => response.data)\r\n}\r\nexport default { \r\n    getAll, \r\n    create,\r\n    deletePerson,\r\n    updatePeson\r\n  }","import React from 'react'\r\n\r\nconst Notification = ({ message, colorNotification }) => {\r\n    return (\r\n        <div className={colorNotification}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification\r\n\r\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personsService from './services/persons'\nimport Notification from './components/Notification'\n//npx json-server --port 3001 --watch db.json - to start fake rest api\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [operation, setOperation] = useState('')\n  const [colorNotification, setColorNotification] = useState('')\n\n  useEffect(()=>{\n    personsService.getAll()\n      .then(persons => setPersons(persons))\n  }, [])\n  \n  const fiveSeconds = () => {\n    setTimeout(() => {\n      setOperation('')\n    }, 5000) \n  }\n\n  const informationAlreadyRemovedFromServer = (name) => {\n    setColorNotification('redNotification')\n    setOperation(`Information of ${name} has already been removed from server`)\n    fiveSeconds()\n    personsService.getAll()\n      .then(persons => setPersons(persons))\n  }\n\n  const handleClickSubmit = (event) => {\n    const personIsFound = [...persons].find(person => person.name === newName);\n    console.log(\"found name object\", personIsFound)\n    if(personIsFound){\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one`)){\n        console.log(personIsFound)\n        personsService.updatePeson(personIsFound.id, {\n          ...personIsFound,\n          number: newNumber\n        })\n        .then(returnedPerson => {\n          console.log(\"update\",returnedPerson);\n         setPersons(persons.map(person => person.id !== returnedPerson.id \n          ? person \n          : returnedPerson))\n          console.log(persons)\n          setColorNotification('greenNotification')\n          setOperation(`The number of ${returnedPerson.name} is changed`)\n          fiveSeconds()     \n        })\n        .catch(err => {\n          informationAlreadyRemovedFromServer(newName)\n        })\n      } \n    } else {\n      personsService.create({\n        name: newName,\n        number: newNumber\n      })\n      .then(returnedPerson => {\n        console.log(returnedPerson)\n        setPersons(persons.concat(returnedPerson))\n        setColorNotification('greenNotification')\n        setOperation(`Added ${returnedPerson.name}`)\n        fiveSeconds()      \n      })\n      .catch(error => {\n        setColorNotification('redNotification')\n        //setOperation(`Information of ${name} has already been removed from server`)\n        console.log(error.response.data.message)\n        setOperation(`${error.response.data.message}`)\n        fiveSeconds()\n      })\n    } \n    event.preventDefault();\n  }\n\n  const handleClickDelete = (event, passedPerson) => {\n    const id =passedPerson.id;\n    const name = passedPerson.name;\n    if(window.confirm(`Delete ${name} ?`)){\n      personsService\n      .deletePerson(id)\n      .then(() => {\n       setPersons(persons.filter(person => person.id !== id))\n       setColorNotification('redNotification')\n       setOperation(`Deleted ${name}`)\n        fiveSeconds()   \n      })\n      .catch(err => {\n        informationAlreadyRemovedFromServer(name)\n      })\n    } \n    event.preventDefault();\n  }\n\n  const handleOnChangeFilter = filter => setNewFilter(filter)\n  const handleOnChangeNewName = name => setNewName(name)\n  const handleOnChangeNewNumber = number => setNewNumber(number)\n  \n  console.log(persons)\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      { operation && <Notification message={operation} colorNotification={colorNotification} />}\n      <Filter filter={handleOnChangeFilter} />\n      <h2>add a new</h2>\n      <PersonForm\n        submitOnClick={handleClickSubmit}\n        name={newName}\n        number={newNumber}\n        setName={handleOnChangeNewName}\n        setNumber={handleOnChangeNewNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons \n        persons={persons} \n        newFilter={newFilter} \n        handleClickDelete={handleClickDelete}\n      />\n    </div>\n  )\n}\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}